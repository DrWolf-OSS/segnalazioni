<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                template="layout/template.xhtml">
                       
<ui:define name="body">
    
    <h:messages globalOnly="true" styleClass="message" id="globalMessages"/>
    
    <rich:panel styleClass="PNLGeneric">
        <f:facet name="header">Area</f:facet>


        <s:decorate id="nome" template="layout/display.xhtml">
            <ui:define name="label">nome</ui:define>
            #{areaHome.instance.nome}
        </s:decorate>

        <s:decorate id="visible" template="layout/display.xhtml">
            <ui:define name="label">visible</ui:define>
             <h:outputText value="#{areaHome.instance.visible ? 'si' : 'no'}" />
        </s:decorate>

        <div style="clear:both"/>
        
    </rich:panel>
    

    <rich:tabPanel switchType="client" styleClass="PNLGeneric">

    <rich:tab label="Ente" > 
    <div class="association" id="enteParent">
        
        <h:outputText value="There is no ente associated with this area." 
                   rendered="#{areaHome.instance.ente == null}"/>
        
        <rich:dataTable var="ente" 
                   value="#{areaHome.instance.ente}" 
                rendered="#{areaHome.instance.ente != null}"
              rowClasses="rvgRowOne,rvgRowTwo"
                      id="enteTable">
<!--            <h:column>-->
<!--                <f:facet name="header">idente</f:facet>-->
<!--                #{ente.idente}-->
<!--            </h:column>-->

            <h:column>
                <f:facet name="header">Nome</f:facet>
                #{ente.nome}
            </h:column>
            <h:column>
                <f:facet name="header">Visible</f:facet>
                <h:outputText value="#{ente.visible ? 'si' : 'no'}" /> 
            </h:column>            
            <h:column>
                <f:facet name="header">Azioni</f:facet>
                <s:link id="viewente" 
                     value="Seleziona" 
                      view="/Ente.xhtml">
                    <f:param name="enteIdente" 
                           value="#{ente.idente}"/>
              		<f:param name="enteFrom" 
                           value="Area"/>
                    <f:param name="areaIdsettore" 
                           value="#{areaHome.instance.idsettore}"/>                              
                </s:link>
            </h:column>
        </rich:dataTable>
        
    </div>
    </rich:tab>

<!--    <rich:tab label="organizationalroles" >-->
<!--    <div class="association" id="organizationalrolesChildren">-->
<!--        -->
<!--        <h:outputText value="There are no organizationalroles associated with this area."-->
<!--                   rendered="#{empty areaHome.organizationalroles}"/>-->
<!--        -->
<!--        <rich:dataTable value="#{areaHome.organizationalroles}" -->
<!--                       var="organizationalrole" -->
<!--                  rendered="#{not empty areaHome.organizationalroles}" -->
<!--                rowClasses="rvgRowOne,rvgRowTwo"-->
<!--                        id="organizationalrolesTable">-->
<!--            <h:column>-->
<!--                <f:facet name="header">organizationalRoleId</f:facet>-->
<!--                <h:outputText value="#{organizationalrole.organizationalRoleId}"/>-->
<!--            </h:column>-->
<!--            <h:column>-->
<!--                <f:facet name="header">Azioni</f:facet>-->
<!--                <s:link id="selectorganizationalrole" -->
<!--                     value="Seleziona" -->
<!--                      view="/Organizationalrole.xhtml">-->
<!--                    <f:param name="organizationalroleOrganizationalRoleId" -->
<!--                            value="#{organizationalrole.organizationalRoleId}"/>-->
<!--                    <f:param name="organizationalroleFrom" value="Area"/>-->
<!--                </s:link>-->
<!--            </h:column>-->
<!--        </rich:dataTable> -->
<!--        -->
<!--    </div>-->
<!--    -->
<!--    <div class="actionButtons">-->
<!--        <s:button -->
<!--               value="Add organizationalrole"-->
<!--                view="/OrganizationalroleEdit.xhtml">-->
<!--            <f:param name="areaIdsettore" -->
<!--                    value="#{areaHome.instance.idsettore}"/>-->
<!--            <f:param name="organizationalroleFrom" value="Area"/>-->
<!--        </s:button>-->
<!--    </div>        -->
<!--    </rich:tab>-->

    <rich:tab label="Uffici">
    <div class="association" id="ufficiosChildren">
        
        <h:outputText value="There are no ufficios associated with this area."
                   rendered="#{empty areaHome.ufficios}"/>
        
        <rich:dataTable value="#{areaHome.ufficios}" 
                       var="ufficio" 
                  rendered="#{not empty areaHome.ufficios}" 
                rowClasses="rvgRowOne,rvgRowTwo"
                        id="ufficiosTable">
<!--            <h:column>-->
<!--                <f:facet name="header">idufficio</f:facet>-->
<!--                <h:outputText value="#{ufficio.idufficio}"/>-->
<!--            </h:column> -->
            <h:column>
                <f:facet name="header">Visible</f:facet>
                <h:outputText value="#{ufficio.visible ? 'si' : 'no'}" />
            </h:column>
            <h:column>
                <f:facet name="header">Nome</f:facet>
                <h:outputText value="#{ufficio.nome}"/>
            </h:column>            
            <h:column>
                <f:facet name="header">Descrizione</f:facet>
                <h:outputText value="#{ufficio.descrizione}"/>
            </h:column>
<!--            <h:column>-->
<!--                <f:facet name="header">Telefono</f:facet>-->
<!--                <h:outputText value="#{ufficio.telefono}"/>-->
<!--            </h:column>-->
<!--            <h:column>-->
<!--                <f:facet name="header">Fax</f:facet>-->
<!--                <h:outputText value="#{ufficio.fax}"/>-->
<!--            </h:column>-->
<!--            <h:column>-->
<!--                <f:facet name="header">Email</f:facet>-->
<!--                <h:outputText value="#{ufficio.email}"/>-->
<!--            </h:column>-->
<!---->
<!--            <h:column>-->
<!--                <f:facet name="header">Fax1</f:facet>-->
<!--                <h:outputText value="#{ufficio.fax1}"/>-->
<!--            </h:column>-->
            <h:column>
                <f:facet name="header">Azione</f:facet>
                <s:link id="selectufficio" 
                     value="Seleziona" 
                      view="/Ufficio.xhtml">
                    <f:param name="ufficioIdufficio" 
                            value="#{ufficio.idufficio}"/>
                    <f:param name="ufficioFrom" value="Area"/>

                    <f:param name="areaIdsettore" 
                           value="#{areaHome.instance.idsettore}"/>      
                           
                                               
                    
                </s:link>
            </h:column>
        </rich:dataTable>
        
    </div>
    
<!--    <div class="actionButtons">-->
<!--        <s:button -->
<!--               value="Add ufficio"-->
<!--                view="/UfficioEdit.xhtml">-->
<!--            <f:param name="areaIdsettore" -->
<!--                    value="#{areaHome.instance.idsettore}"/>-->
<!--            <f:param name="ufficioFrom" value="Area"/>-->
<!--        </s:button>-->
<!--    </div>        -->
    </rich:tab>
    <rich:tab label="Persone">
    <div class="association" id="peoplesChildren"> 
        
        <h:outputText value="Non ci sono persone associate a questo settore."
                   rendered="#{empty areaHome.instance.peoplesAsList}"/> 
        
        
        <rich:dataTable value="#{areaHome.instance.peoplesAsList}" 
                       var="people" 
                  rendered="#{not empty areaHome.instance.peoplesAsList}" 
                rowClasses="rvgRowOne,rvgRowTwo"
                        id="peoplesTable"> 
<!--            <h:column>-->
<!--                <f:facet name="header">idsettore</f:facet>-->
<!--                <h:outputText value="#{area.idsettore}"/>-->
<!--            </h:column>-->
            <h:column>
                <f:facet name="header">nome</f:facet>
                <h:outputText value="#{people.nome}" />
            </h:column>
            <h:column>
                <f:facet name="header">Cognome</f:facet>
                <h:outputText value="#{people.cognome}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Azione</f:facet> 
                <s:link id="selectpeople" 
                     value="Seleziona" 
                      view="/People.xhtml">
                    <f:param name="peopleIdpeople" 
                            value="#{people.idpeople}"/>
                    <f:param name="peopleFrom" value="Area"/>
                    <f:param name="areaIdsettore" value="#{areaHome.instance.idsettore}"/>
                    
                </s:link>
            </h:column> 
        </rich:dataTable>
<!--        --> 
<!--    </div>-->
<!--    -->
<!--    <div class="actionButtons">-->
<!--        <s:button -->
<!--               value="Add area"-->
<!--                view="/AreaEdit.xhtml">-->
<!--            <f:param name="enteIdente" -->
<!--                    value="#{enteHome.instance.idente}"/>--> 
<!--            <f:param name="areaFrom" value="Ente"/>-->
<!--        </s:button>-->
    </div>        
    </rich:tab>
    
</rich:tabPanel>
    <div class="actionButtons">      

        <s:button view="/AreaEdit.xhtml" 
                    id="edit" 
                 value="Modifica"/>

        <s:button view="/#{empty areaFrom ? 'AreaList' : areaFrom}.xhtml"
                    id="done"
                 value="Finito"/>

    </div>

</ui:define>

</ui:composition>
