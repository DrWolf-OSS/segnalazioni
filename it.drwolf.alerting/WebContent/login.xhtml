<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                template="/layout/template.xhtml">

<ui:define name="title">
<h:outputText value="#{starter.applicationDescription}" escape="false" />
	
</ui:define>

<ui:define name="navigation">

<s:div styleClass="login" >

<s:decorate template="/layout/actions.xhtml" rendered="#{identity.loggedIn}">
            <s:button value="Homepage" view="/app/index.xhtml" styleClass="homeLogout"/>
            <s:button value="Logout"  view="/logout.xhtml" styleClass="homeLogout"/>
            
        </s:decorate>

<rich:panel  header="Login" rendered="#{not identity.loggedIn}">

        <s:div styleClass="dialog">
       
<div class="loginTitle" >Cittadini</div>
<h:form>
<s:validateAll>
          <s:decorate template="/layout/input.xhtml">
          <ui:define name="label">E-mail</ui:define>
	          <h:inputText id="username" required="true" value="#{identity.username}"/>

          </s:decorate>

          <s:decorate template="/layout/input.xhtml">
          <ui:define name="label">Codice utente</ui:define>
	          <h:inputSecret id="password" required="true"
                                value="#{identity.password}"/>

          </s:decorate>
		<s:div >
			

			<a href="#{workSession.getParam('app.iscrizioni.publicUrl')}">Iscriviti / </a>
			<a href="#{workSession.getParam('app.iscrizioni.publicUrl')}">Ricordami il codice utente</a> 
			
		</s:div> 

        <s:decorate template="/layout/actions.xhtml">
            <h:commandButton value="Login" action="#{identity.login}"/>
        </s:decorate>
</s:validateAll>
</h:form>
        </s:div>
        
</rich:panel>

</s:div>

</ui:define>

<ui:define name="body">

	<div class="logoContainer">
		<div class="homeLogo">
			<h:outputText styleClass="homeText" value="#{starter.welcomeText}" escape="false"/>
		</div>
	</div>


 </ui:define>
</ui:composition>
